<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russ Forstall | Enter the Eisenhower Matrix</title>
    <link rel="stylesheet" href="/css/styles.css">
    <style>
        label {
            border: 1px solid #767676;
            padding: .15rem 0.5rem;
            font-size: .8rem;
            border-radius: .15rem;
            font-family: sans-serif;
            background-color: #EFEFEF;
        }
        
        #main-title {
            text-align: center;
        }
        
        .bank { 
            height: 200px;
            border: 1px solid red;
            position: relative;
        }
        
        .bank .item {
            position: initial;
        }
        
        .quadrants { 
            display: inline-block;
            width: 504px;
            position: relative;
            border: 1px solid salmon;
            background: transparent;
        }
        
        #y-axis {
            display: inline-block;
            height: 604px;
            width: 100px;
        }
        
        #y-axis .axis-label {
            display: flex;
            float: left;
            justify-content: center;
            align-content: center;
            margin-top: 290px;
            -moz-transform: rotate(270deg);  /* FF3.5+ */
            -o-transform: rotate(270deg);  /* Opera 10.5 */
            -webkit-transform: rotate(-90deg);
        }
    
        
        #x-axis {
            margin-left: 180px;
        }
        
        #x-axis .axis-label {
            text-align: center;
        }

        .quadrants .item {
            position: absolute;
            z-index: 1;
        }
        
        .quadrant-label {
            float: right;
            padding: .25rem;
            background-color: lightgray;
            z-index: 2;
        }
        
        .quadrant-title-input {
            text-align: right;
        }
        
        .quadrant { 
            float: left;
            width: 250px;
            height: 250px;
            border: 1px solid salmon;
            background: transparent;
        }
        
        .item {
            display: inline-block;
            background-color: lightcoral;
            padding: 2px;
            margin: 1px;
            z-index: 100;
            padding: .20rem .5rem;
            border-radius: 10rem;
            font-size: .75rem;
        }
        
        #trash-can {
            width: 150px;
            height: 150px;
            position: absolute;
            right: 0;
            bottom: 0;
            background-color: gray;
        }
        
        #trash-can h6 { 
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <nav>
            <a href="/" title="HOME">&#x210B;</a> |
            <a href="code" title="CODE">&lt;/&gt;</a> |
            <a href="music" title="MUSIC">&#9835;</a> 
        </nav>
        <h1>Enter the Eisenhower Matrix <span class="title-date">1/7/2025</span></h1>
        <p><a href="app">Check out the newest version of the app</a></p>
        <p>
            When I first decided to grow my small freelance software business into a bigger software shop, 
            one of the better decisions I made was getting a business leadership coach. Her name was Ann 
            and she gave great advice. I wasn't so great at following said advice, but that's for a different 
            write-up. 
        </p>
        <p>
            One of our earlier sessions was about task delegation and she used a modified version of the
            <a href="https://en.wikipedia.org/wiki/Time_management#The_Eisenhower_Method">Eisenhower Matrix</a> 
            as a tool to help determine what tasks to do myself and what tasks to delegate. I found this tool
            useful for many purposes and at some point decided to build a web version.
        </p>

        

        <div id="graph-container">
            <!-- <div id="y-axis">
                <h3 id="y-axis-label" class="axis-label">Importance</h3>
            </div> -->

            <div id="quadrants" class="quadrants" ondrop="drop_handler(event, this)" ondragover="dragover_handler(event)">
                <div class="quadrant" data-quadrant="Q1">
                    <div class="quadrant-label" id="q1-label">Do</div>
                </div>
                <div class="quadrant" data-quadrant="Q2">
                    <div class="quadrant-label" id="q2-label">Schedule</div>
                </div>
                <div class="quadrant" data-quadrant="Q3">
                    <div class="quadrant-label" id="q3-label">Delegate</div>
                </div>
                <div class="quadrant" data-quadrant="Q4">
                    <div class="quadrant-label" id="q4-label">Delete</div>
                </div>
            </div>

            <!-- <div id="x-axis">
                <h3 id="x-axis-label" class="axis-label">Click to Edit</h3>
            </div> -->
        </div>
        <div>
            <form onsubmit="addItem(event)">
                <button type="submit">Add</button>
                <input type="text" name="add-item" id="add-item" placeholder="Add Item" />
            </form>
        </div>
        <div id="bank" class="bank" ondrop="drop_handler(event, this)" ondragover="dragover_handler(event)">
            <div class="item" draggable="true" id="1" ondragstart="dragstart_handler(event)">Thing 1</div>
            <div class="item" draggable="true" id="2" ondragstart="dragstart_handler(event)">Thing 2</div>
            <div class="item" draggable="true" id="3" ondragstart="dragstart_handler(event)">Thing 3</div>
            <div id="trash-can" ondrop="drop_trash(event, this)" ondragover="dragover_trash(event)">
                <h6>TRASH<br/>CAN</h6>
            </div>
        </div>
        
    </div>
    <footer>
        <p class="copyright">&copy; This is a copyright symbol</p>
    </footer>
    <script>
        function addItem(ev) {
            ev.preventDefault();
            const itemTextInput = document.getElementById('add-item');
            if (itemTextInput.value) {
                const newItemId = document.getElementsByClassName('item').length + 1;
                createItem(newItemId, itemTextInput.value);
                itemTextInput.value = '';
            }
          }
          
          function dragstart_handler(ev) {
            // Get mouse click offset
            const rect = ev.target.getBoundingClientRect();
            const xOffset = ev.clientX - window.scrollX - parseInt(rect.left,10); 
            const yOffset = ev.clientY - window.scrollY - parseInt(rect.top,10);
          
            const obj = { id: ev.target.id, mouseOffset: { x: xOffset, y: yOffset } };
          
            ev.dataTransfer.setData("text/plain", JSON.stringify(obj));
          }
          
          function dragover_handler(ev) {
            ev.preventDefault();
          }
          
          function dragover_trash(ev) {
            ev.preventDefault();
          }
          
          function drop_trash(ev, el) {
            const data = JSON.parse(ev.dataTransfer.getData("text/plain"));
            const droppedItem = document.getElementById(data.id);
            droppedItem.remove();
          }
          
          function drop_handler(ev, el) {
            ev.preventDefault();
            
            const quadrantsRect = el.getBoundingClientRect();
            const xOffset = window.scrollX + parseInt(quadrantsRect.left,10); 
            const yOffset = window.scrollY + parseInt(quadrantsRect.top,10);
            const data = JSON.parse(ev.dataTransfer.getData("text/plain"));
            const droppedItem = document.getElementById(data.id);
            const xVal = ev.clientX - data.mouseOffset.x - xOffset;
            const yVal = ev.clientY - data.mouseOffset.y - yOffset;
            droppedItem.classList.add("placed-item");
            droppedItem.style.left = xVal + 'px';
            droppedItem.style.top = yVal + 'px';
            droppedItem.dataset.x = xVal;
            droppedItem.dataset.y = yVal;
          
            if (ev.target.classList.contains("bank")) {
                droppedItem.classList.remove("placed-item");
                droppedItem.dataset.x = 0;
                droppedItem.dataset.y = 0;
            }
            el.appendChild(droppedItem);
          }
          
          function shareLink() {
            const url = new URL(window.location.href);
            console.log(url);
            url.search = "data=" + encodeURIComponent(serialize());
            console.log(url.href);
            ``
            navigator.clipboard.writeText(url.href).then(function(x) {
                alert("Link copied to clipboard!");
            });
          }
          
          function createItem(id, text, x = 0, y = 0, isPlaced = false) {
            const itemDiv = document.createElement("div");
            itemDiv.classList.add("item");
            itemDiv.draggable = true;
            itemDiv.addEventListener("dragstart", dragstart_handler);
            itemDiv.innerText = text;
            itemDiv.dataset.x = x;
            itemDiv.dataset.y = y;
            itemDiv.id = id;
            
            if (isPlaced) { 
                itemDiv.classList.add("placed-item");
                itemDiv.style.left = x + 'px';
                itemDiv.style.top = y + 'px';
                document.getElementById("quadrants").appendChild(itemDiv);
            } else {
                document.getElementById("bank").appendChild(itemDiv);
            }
          }
    </script>
</body>
</html>